<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sunbird PDF player</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
      .player-grid {
        height: 90vh;
        width: 90%;
        margin: 0 auto;
        display: grid;
        gap: 1.5rem;
        padding-top: 4rem;

        @media screen and (max-width: 768px) {
          grid-template-columns: 100%;
          gap: 0px;
        }
      }
    </style>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
      integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="player-grid" id="my-player"></div>
    <script type="text/javascript" src="sunbird-pdf-player.js"></script>
    <script type="text/javascript">
      const playerConfig = {
        context: {
          mode: "play",
          partner: [],
          pdata: {
            id: "dev.sunbird.portal",
            ver: "5.2.0",
            pid: "sunbird-portal",
          },
          contentId: "do_21374910251798528014586",
          sid: "6d1898db-d783-4f83-8b92-4a36636e0d2f",
          uid: "anonymous",
          timeDiff: -0.089,
          channel: "01269878797503692810",
          tags: ["01269878797503692810"],
          did: "3ca74a4c5fbce6b7b7f5cd12cebb1682",
          contextRollup: { l1: "01269878797503692810" },
          objectRollup: {},
          userData: { firstName: "Guest", lastName: "" },
        },
        config: {
          showEndPage: false,
          endPage: [{ template: "assessment", contentType: ["SelfAssess"] }],
          showStartPage: true,
          host: "",
          overlay: { showUser: false },
          splash: {
            text: "",
            icon: "",
            bgImage: "assets/icons/splacebackground_1.png",
            webLink: "",
          },
          apislug: "/action",
          repos: ["/sunbird-plugins/renderer"],
          plugins: [
            { id: "org.sunbird.iframeEvent", ver: 1, type: "plugin" },
            { id: "org.sunbird.player.endpage", ver: 1.1, type: "plugin" },
          ],
          sideMenu: { showShare: true, showDownload: true, showExit: false },
        },
        metadata: {
          ownershipType: ["createdBy"],
          copyright: "Test Channel",
          previewUrl:
            "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/assets/do_2141610327664312321258/sample.pdf",
          channel: "test-k12-channel",
          downloadUrl:
            "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/do_2141610327664312321258/pdf-content_1728997671512_do_2141610327664312321258_1.ecar",
          organisation: ["Test Channel"],
          showNotification: true,
          language: ["English"],
          mimeType: "application/pdf",
          variants: {
            full: {
              ecarUrl:
                "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/do_2141610327664312321258/pdf-content_1728997671512_do_2141610327664312321258_1.ecar",
              size: "5483",
            },
            spine: {
              ecarUrl:
                "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/do_2141610327664312321258/pdf-content_1728997671759_do_2141610327664312321258_1_SPINE.ecar",
              size: "4408",
            },
          },
          objectType: "Content",
          appIcon:
            "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/do_2141610327664312321258/artifact/do_2141632198427934721299_1728908672301_sunbird.thumb.jpeg",
          primaryCategory: "Learning Resource",
          contentEncoding: "identity",
          artifactUrl:
            "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/assets/do_2141610327664312321258/sample.pdf",
          contentType: "Resource",
          trackable: {
            enabled: "No",
            autoBatch: "No",
          },
          identifier: "do_2141610327664312321258",
          lastUpdatedBy: "5afb0c71-5e85-46f6-8780-3059cbb7bbf9",
          audience: ["Student"],
          visibility: "Default",
          discussionForum: {
            enabled: "No",
          },
          mediaType: "content",
          osId: "org.ekstep.quiz.app",
          languageCode: ["en"],
          lastPublishedBy: "4cd4c690-eab6-4938-855a-447c7b1b8ea9",
          version: 2,
          pragma: ["external"],
          license: "CC BY 4.0",
          prevState: "Draft",
          size: 3028.0,
          lastPublishedOn: "2024-10-15T13:07:50.610+0000",
          name: "PDF Content",
          status: "Live",
          code: "27a5ae06-ca31-443e-8a5b-59235ece065e",
          interceptionPoints: {},
          credentials: {
            enabled: "No",
          },
          prevStatus: "Processing",
          posterImage:
            "https://knowlg-public.s3-ap-south-1.amazonaws.com/content/do_2141632198427934721299/artifact/do_2141632198427934721299_1728908672301_sunbird.jpeg",
          idealScreenSize: "normal",
          createdOn: "2024-10-11T10:14:55.136+0000",
          contentDisposition: "inline",
          lastUpdatedOn: "2024-10-15T13:07:52.009+0000",
          dialcodeRequired: "No",
          lastStatusChangedOn: "2024-10-15T13:07:52.009+0000",
          createdFor: ["test-k12-channel"],
          creator: "Rahul Tekdi",
          os: ["All"],
          se_FWIds: ["test_k12_framework"],
          pkgVersion: 1,
          versionKey: "1728908675009",
          idealScreenDensity: "hdpi",
          framework: "test_k12_framework",
          createdBy: "5afb0c71-5e85-46f6-8780-3059cbb7bbf9",
          compatibilityLevel: 4,
          resourceType: "Learn",
        },
        data: {},
      };
      const pdfElement = document.createElement("sunbird-pdf-player");
      pdfElement.setAttribute("player-config", JSON.stringify(playerConfig));

      pdfElement.addEventListener("telemetryEvent", (event) => {
        console.log("On telemetryEvent", event);
      });

      pdfElement.addEventListener("playerEvent", (event) => {
        console.log("On playerEvent", event);
      });
      console.log(pdfElement);
      const myPlayer = document.getElementById("my-player");
      myPlayer.appendChild(pdfElement);
    </script>
  </body>
</html>
